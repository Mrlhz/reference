<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
</head>
<body>
<script>
    let url = 'http://www.domain.com/?user=anonymous&id=123&id=456&city=北京&enabled';

    let u = new URLSearchParams(url);
    for (let [k, v] of u) {
        document.write(k, '=', v);
    }

    function getQueryStringArgs() {

        //取得查询字符串并去掉开头的问号
        let qs = (location.search.length > 0 ? location.search.substring(1) : ""),

            //保存数据的对象
            args = {},

            //取得每一项
            items = qs.length ? qs.split("&") : [],
            item = null,
            name = null,
            value = null,

            //在 for 循环中使用
            i = 0,
            len = items.length;

        //逐个将每一项添加到 args 对象中
        for (i = 0; i < len; i++) {
            item = items[i].split("=");
            name = decodeURIComponent(item[0]);
            value = decodeURIComponent(item[1]);

            if (name.length) {
                args[name] = value;
            }
        }
        return args;
    }

    function getQueryParams(str) {
        let query = {};
        if (typeof str !== 'string') {
            return {};
        }
        let params = str.split('?')[1];
        let search = params.split('&');
        console.log(search);
        for (let i = 0, len = search.length; i < len; i++) {
            let s = search[i].split('=');
            query[s[0]] = decodeURIComponent(s[1]) || true;
        }
        return query;
    }
    let url1 = 'https://baike.baidu.com/item/%E5%88%98%E4%BA%A6%E8%8F%B2/136156?fr=aladdin';
    getQueryParams(url1);

</script>
</body>
</html>