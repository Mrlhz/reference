<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>菜鸟教程(runoob.com)</title>
  <script type="text/javascript">
    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
    var msg;

    db.transaction(function (tx) {
      tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
      tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "菜鸟教程")');
      tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "www.runoob.com")');
      msg = '<p>数据表已创建，且插入了两条数据。</p>';
      document.querySelector('#status').innerHTML = msg;
    });

    db.transaction(function (tx) {
      tx.executeSql('SELECT * FROM LOGS', [], function (tx, results) {
        var len = results.rows.length,
          i;
        msg = "<p>查询记录条数: " + len + "</p>";
        document.querySelector('#status').innerHTML += msg;

        for (i = 0; i < len; i++) {
          msg = "<p><b>" + results.rows.item(i).log + "</b></p>";
          document.querySelector('#status').innerHTML += msg;
        }
      }, null);
    });


    db.transaction(function (tx) {
      // tx.executeSql('INSERT INTO LOGS (id, log) VALUES (3, "SQL 教程")');
      // tx.executeSql('INSERT INTO LOGS (id, log) VALUES (4, "http://www.runoob.com/sql/sql-tutorial.html")');
      tx.executeSql('INSERT INTO LOGS (id, log) VALUES (5, "HTML5 Web SQL 数据库")');
    });
    db.transaction(tx => {
      tx.executeSql('SELECT * FROM LOGS', [], (tx, results) => {
        console.log(tx, results.rows[0]) // SQLTransaction {} "菜鸟教程"
        for (const iterator of results.rows) {
          console.log(iterator)
          // {id: 1, log: "菜鸟教程"}
          // {id: 2, log: "www.runoob.com"}
        }
      })
    })
  </script>

</head>

<body>
  <div id="status" name="status">状态信息</div>
</body>

</html>